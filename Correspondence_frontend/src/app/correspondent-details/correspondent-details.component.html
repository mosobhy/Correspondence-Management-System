    <div class="flex-grow-0">
        <!-- inbox button shortcut -->
        <div class="d-flex flex-wrap align-items-center pl-2 pr-3 py-2 px-sm-4 pr-lg-5 pl-lg-0 border-faded border-top-0 border-left-0 border-right-0">
            <div class="flex-1 d-flex align-items-center">
                <a class="btn btn-icon rounded-circle mr-2 mr-lg-3 waves-effect waves-themed">
                    <i class="fas fa-arrow-left fs-lg"></i>
                </a>
                <a href="javascript:void(0);" class="btn btn-icon rounded-circle mr-1 waves-effect waves-themed">
                    <i class="fas fa-redo fs-md"></i>
                </a>
                <a class="btn btn-icon rounded-circle mr-1 waves-effect waves-themed">
                    <i class="fas fa-exclamation-circle fs-md"></i>
                </a>
                <a (click)="deleteThisThread( thread_id )" id="js-delete-selected" class="btn btn-icon rounded-circle mr-1 waves-effect waves-themed">
                    <i class="fas fa-trash fs-md"></i>
                </a>
            </div>
            <div class="text-muted mr-1 mr-lg-3 ml-auto">
                <span class="hidden-lg-down"> 1 - 50 of 135 </span>
                <div class="btn-group hidden-lg-up" role="group">
                    <button type="button" class="btn btn-default waves-effect waves-themed">Reply</button>
                    <div class="btn-group" role="group">
                        <button id="dropdown-reply" type="button" class="btn btn-default dropdown-toggle px-2 js-waves-off" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                        <div class="dropdown-menu p-0" aria-labelledby="dropdown-reply">
                            <a class="dropdown-item" href="#">Reply to all</a>
                            <a class="dropdown-item" href="#">Forward</a>
                            <div class="dropdown-divider m-0"></div>
                            <a class="dropdown-item" href="#">
                                Move to...</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex flex-wrap hidden-lg-down">
                <button (click)="getPreviousThread(thread_id)" class="btn btn-icon rounded-circle waves-effect waves-themed"><i class="fal fa-chevron-left fs-md"></i></button>
                <button (click)="getNextThread(thread_id)" class="btn btn-icon rounded-circle waves-effect waves-themed"><i class="fal fa-chevron-right fs-md"></i></button>
            </div>
        </div>
        <!-- end inbox button shortcut -->
    </div>


    <div class="flex-wrap align-items-center flex-grow-1 position-relative bg-white">


    <div class="slimScrollDiv" style="position: relative; overflow: hidden; width: auto; height: 100%;">

    <div class="d-flex h-100 flex-column" style="overflow: hidden; width: auto; height: 100%;">

    <div class="d-flex align-items-center pl-2 pr-3 py-3 pl-sm-3 pr-sm-4 py-sm-4 px-lg-5 py-lg-3 flex-shrink-0">
        <!-- button for mobile -->
        <a href="javascript:void(0);" class="pl-3 pr-3 py-2 d-flex d-lg-none align-items-center justify-content-center mr-2 btn waves-effect waves-themed" data-action="toggle" data-class="slide-on-mobile-left-show" data-target="#js-inbox-menu">
            <i class="fal fa-ellipsis-v h1 mb-0 "></i>
        </a>



        <!-- <ng-template #elseBlock><div style="margin: 20px">fetching.....</div></ng-template> -->




        <!-- end button for mobile -->
        <h1 class="subheader-title mb-0 ml-2 ml-lg-5">
            {{ corr_details[0].corr_subject }}
        </h1>
        <span class="badge badge-primary ml-2 hidden-sm-down">INBOX</span>
        <div class="d-flex position-relative ml-auto">

            <a href="javascript:void(0);" class="btn btn-icon ml-1 fs-lg" data-toggle="collapse" data-target=".js-collapse">
                <i class="fas fa-arrows-v"></i>
            </a>
            <!-- The print controller -->
            <button
              [printStyle]="{ div: { 'text-align': 'center', 'background-color': '#f3f2ef', 'border': '2px, solid, black' } }"
              printSectionId="toBePrinted" 
              class="btn btn-icon ml-1 fs-lg waves-effect waves-themed" 
              ngxPrint
            >
                <i class="fas fa-print"></i>
            </button>
        </div>
    </div>


    <div id="toBePrinted">
    <div *ngFor="let message of corr_details index as i" class="d-flex flex-column border-faded border-top-0 border-left-0 border-right-0 py-3 px-3 px-sm-4 px-lg-0 mr-0 mr-lg-5 flex-shrink-0">
        

            <ng-template #draft>
                <div (click)="completeReplay(last_undrafted_corr_id, message._id, message.thread_id)" class="d-flex align-items-center flex-row">
                    <div class="ml-0 mr-3 mx-lg-3">
                        <img src="img/demo/avatars/avatar-c.png" class="profile-image profile-image-md rounded-circle" alt="Melissa Ayre">
                    </div>
                    <div class="fw-500 flex-1 d-flex flex-column cursor-pointer" data-toggle="collapse" data-target="#messageOne" aria-expanded="false">
                        <div class="fs-lg">
                            {{ message.from_user }} 
                            <span class="fs-nano">{{ message.from_email }}</span>
                        </div>
                        <div class="fs-nano">
                            {{ message.to_entity }}
                        </div>
                    </div>

                    <span style="background-color: #dc3545; margin-right: 2%;" class="badge badge-primary ml-2 hidden-sm-down">
                        DRAFT
                    </span>
                    <div class="color-fusion-200 fs-sm">
                        {{ message.sent_date | date: "short" }}
                    </div>
                    
                </div>
            </ng-template>




            <ng-template #message_>
                <div class="d-flex align-items-center flex-row">
                    <div class="ml-0 mr-3 mx-lg-3">
                        <img src="img/demo/avatars/avatar-c.png" class="profile-image profile-image-md rounded-circle" alt="Melissa Ayre">
                    </div>
                    <div class="fw-500 flex-1 d-flex flex-column cursor-pointer" data-toggle="collapse" data-target="#messageOne" aria-expanded="false">
                        <div class="fs-lg">
                            {{ message.from_user }} 
                            <span class="fs-nano">{{ message.from_email }}</span>
                        </div>
                        <div class="fs-nano">
                            {{ message.to_entity }}
                        </div>
                    </div>
                    <div class="color-fusion-200 fs-sm">
                        {{ message.sent_date | date: "short" }}
                    </div>
                    <div class="collapsed-reveal">

                        <a (click)="starCorrespondent($event)" title="starred" class="btn btn-icon ml-1 fs-lg waves-effect waves-themed">
                            <i class="fas fa-star" [attr.data-corr_id]="message._id" [style.color]="message.starred ? 'gold' : 'black' "></i>
                        </a>
        
                        <a (click)="replay_(message._id, message.thread_id)" class="btn btn-icon ml-1 fs-lg">
                            <i class="fal fa-reply"></i>
                        </a>
                    </div>
                </div>
                <div class="collapse" id="messageOne">
                    <div class="pl-lg-5 ml-lg-5 pt-3 pb-4">
                      Correspondence Number: {{ message.corr_no }}<br>
                      Correspondence Type: {{ message.corr_type }}<br>
                      Entity Number: {{ message.entity_no }}<br>
                      To Entity: {{ message.to_entity }}<br>
                      To Department: {{ message.to_department }}<br>
                      CC: {{ message.cc_entity}} <br>
                      Classification: {{ message.classfication }}<br>
                      Await Replay: {{ message.await_reply}}<br>
                      Priority: {{ message.priority }}<br>
                      Due Date: {{ message.due_date | date: "short" }}<br>
                    </div>
        
                    <div style="background-color: #f4f4f4;" [innerHTML]="message.corr_body" class="pl-lg-5 ml-lg-5 pt-3 pb-4">
                    </div>
                </div>
            </ng-template>


            <div *ngIf="message.draft then draft else message_"></div>

        </div>

    </div>

    </div> 

    </div>
    </div>
